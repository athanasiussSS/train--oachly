// Базовые стили
.link {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  font-family: var(--font-family-primary);
  font-weight: var(--font-weight-normal);
  text-decoration: none;
  cursor: pointer;
  transition: all var(--transition-fast);
  user-select: none;
  outline: none;
  
  &:focus-visible {
    outline: 0.125rem solid var(--color-primary);
    outline-offset: 0.125rem;
    border-radius: var(--radius-sm);
  }
}

// Размеры
$sizes: (
  xs: (font-size: var(--font-size-xs), gap: 0.25rem),
  sm: (font-size: var(--font-size-sm), gap: 0.25rem),
  md: (font-size: var(--font-size-base), gap: 0.375rem),
  lg: (font-size: var(--font-size-lg), gap: 0.5rem),
  xl: (font-size: var(--font-size-xl), gap: 0.5rem)
);

@each $size, $props in $sizes {
  .link--#{$size} {
    font-size: map-get($props, font-size);
    gap: map-get($props, gap);
  }
}

// Миксин для вариантов ссылок
@mixin link-variant($color-var) {
  color: var($color-var);
  
  &.link--underline {
    text-decoration: underline;
    text-underline-offset: 0.125rem;
    text-decoration-color: var($color-var);
    
    &:hover:not(.link--disabled) {
      text-decoration-thickness: 0.125rem;
    }
  }
  
  &.link--no-underline {
    text-decoration: none;
    
    &:hover:not(.link--disabled) {
      text-decoration: underline;
      text-underline-offset: 0.125rem;
      text-decoration-color: var($color-var);
    }
  }
}

// Варианты стилей
.link--primary {
  @include link-variant(--color-primary);
}

.link--secondary {
  @include link-variant(--color-secondary);
}

.link--muted {
  color: inherit;
  
  &.link--underline {
    text-decoration: underline;
    text-underline-offset: 0.125rem;
    text-decoration-color: var(--color-text-muted);
    
    &:hover:not(.link--disabled) {
      text-decoration-thickness: 0.125rem;
    }
  }
  
  &.link--no-underline {
    text-decoration: none;
    
    &:hover:not(.link--disabled) {
      text-decoration: underline;
      text-underline-offset: 0.125rem;
      text-decoration-color: var(--color-text-muted);
    }
  }
}

.link--success { @include link-variant(--color-success); }
.link--danger { @include link-variant(--color-danger); }
.link--warning { @include link-variant(--color-warning); }
.link--info { @include link-variant(--color-info); }

// Состояния
.link--disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

// Иконки
.link__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 1em;
  line-height: 1;
}

.link--icon-only .link__icon {
  font-size: 1.25em;
}

.link__text {
  display: inline-block;
}
